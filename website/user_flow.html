<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HopeHub - 3æ­¥æ‹¥æœ‰æ‚¨çš„ä¸“å±ä½ç½®</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --dark: #0f172a;
            --light: #f8fafc;
        }
        
        body {
            font-family: -apple-system, 'SF Pro Display', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            width: 33.33%;
            transition: width 0.5s ease;
        }
        
        /* æ­¥éª¤æŒ‡ç¤ºå™¨ */
        .steps-indicator {
            padding: 40px 20px 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .steps-list {
            display: flex;
            justify-content: space-between;
            position: relative;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            font-size: 20px;
            color: white;
            transition: all 0.3s;
        }
        
        .step.active .step-number {
            background: white;
            color: var(--primary);
            border-color: white;
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        }
        
        .step.completed .step-number {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .step-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }
        
        .step.active .step-label {
            color: white;
            font-weight: 600;
        }
        
        /* è¿æ¥çº¿ */
        .steps-list::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 25%;
            right: 25%;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 0;
        }
        
        /* ä¸»å®¹å™¨ */
        .main-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        /* æ¯ä¸ªæ­¥éª¤çš„å†…å®¹ */
        .step-content {
            display: none;
            animation: fadeInUp 0.5s ease;
        }
        
        .step-content.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .card-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .card-subtitle {
            color: #64748b;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        /* Step 1: ZIPè¾“å…¥ */
        .zip-form {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .zip-input {
            flex: 1;
            padding: 20px;
            font-size: 24px;
            text-align: center;
            letter-spacing: 5px;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            transition: all 0.3s;
        }
        
        .zip-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 5px rgba(99, 102, 241, 0.1);
        }
        
        /* çƒ­é—¨ZIPæ¨è */
        .hot-zips {
            margin-top: 30px;
        }
        
        .hot-zips-title {
            font-size: 14px;
            color: #94a3b8;
            margin-bottom: 15px;
        }
        
        .hot-zips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }
        
        .hot-zip-btn {
            padding: 15px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .hot-zip-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-color: var(--primary);
            background: white;
        }
        
        .hot-zip-code {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .hot-zip-city {
            font-size: 12px;
            color: #64748b;
            margin-top: 5px;
        }
        
        /* Step 2: è¡Œä¸šé€‰æ‹© */
        .industries-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .industry-option {
            padding: 20px;
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .industry-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
        }
        
        .industry-option.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            transform: scale(1.05);
        }
        
        .industry-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .industry-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 5px;
        }
        
        .industry-price {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
        }
        
        /* Step 3: ç¡®è®¤è´­ä¹° */
        .summary-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .summary-label {
            color: #64748b;
        }
        
        .summary-value {
            font-weight: 600;
            color: #1e293b;
        }
        
        .total-price {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .total-label {
            font-size: 18px;
            color: #1e293b;
        }
        
        .total-amount {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            flex: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(99, 102, 241, 0.4);
        }
        
        .btn-secondary {
            background: white;
            color: #64748b;
            border: 2px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #f8fafc;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* æˆåŠŸé¡µé¢ */
        .success-animation {
            text-align: center;
            padding: 60px 20px;
        }
        
        .success-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 60px;
            color: white;
            animation: scaleIn 0.5s ease, pulse 2s infinite;
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
            }
            50% {
                box-shadow: 0 0 0 30px rgba(16, 185, 129, 0);
            }
        }
        
        .success-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .success-message {
            font-size: 1.2rem;
            color: #64748b;
            margin-bottom: 40px;
        }
        
        /* å½©å¸¦åŠ¨ç”» */
        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 9999;
        }
        
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background: linear-gradient(135deg, #667eea 0%, #ec4899 100%);
            animation: confetti-fall 3s linear;
        }
        
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* å·¥å…·æç¤º */
        .tooltip {
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            z-index: 10000;
            display: none;
        }
        
        /* å“åº”å¼ */
        @media (max-width: 640px) {
            .steps-list {
                gap: 20px;
            }
            
            .step-label {
                font-size: 12px;
            }
            
            .card {
                padding: 30px 20px;
            }
            
            .industries-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- è¿›åº¦æ¡ -->
    <div class="progress-bar">
        <div class="progress-fill" id="progressBar"></div>
    </div>
    
    <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
    <div class="steps-indicator">
        <div class="steps-list">
            <div class="step active" id="step1">
                <div class="step-number">1</div>
                <div class="step-label">è¾“å…¥ä½ç½®</div>
            </div>
            <div class="step" id="step2">
                <div class="step-number">2</div>
                <div class="step-label">é€‰æ‹©è¡Œä¸š</div>
            </div>
            <div class="step" id="step3">
                <div class="step-number">3</div>
                <div class="step-label">ç¡®è®¤è´­ä¹°</div>
            </div>
        </div>
    </div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- Step 1: è¾“å…¥ZIP CODE -->
        <div class="step-content active" id="content1">
            <div class="card">
                <h1 class="card-title">ğŸ“ ç¬¬ä¸€æ­¥ï¼šè¾“å…¥æ‚¨çš„ä½ç½®</h1>
                <p class="card-subtitle">è¾“å…¥5ä½ç¾å›½é‚®æ”¿ç¼–ç ï¼Œå‘ç°æ‚¨æ‰€åœ¨åœ°åŒºçš„ç‹¬å®¶å•†æœº</p>
                
                <div class="zip-form">
                    <input type="text" 
                           class="zip-input" 
                           id="zipInput"
                           placeholder="02476"
                           maxlength="5"
                           autofocus>
                </div>
                
                <div class="hot-zips">
                    <div class="hot-zips-title">ğŸ”¥ çƒ­é—¨åœ°åŒºï¼ˆç‚¹å‡»å¿«é€Ÿé€‰æ‹©ï¼‰</div>
                    <div class="hot-zips-grid">
                        <div class="hot-zip-btn" onclick="selectZip('10001')">
                            <div class="hot-zip-code">10001</div>
                            <div class="hot-zip-city">çº½çº¦å¸‚</div>
                        </div>
                        <div class="hot-zip-btn" onclick="selectZip('94102')">
                            <div class="hot-zip-code">94102</div>
                            <div class="hot-zip-city">æ—§é‡‘å±±</div>
                        </div>
                        <div class="hot-zip-btn" onclick="selectZip('90001')">
                            <div class="hot-zip-code">90001</div>
                            <div class="hot-zip-city">æ´›æ‰çŸ¶</div>
                        </div>
                        <div class="hot-zip-btn" onclick="selectZip('60601')">
                            <div class="hot-zip-code">60601</div>
                            <div class="hot-zip-city">èŠåŠ å“¥</div>
                        </div>
                        <div class="hot-zip-btn" onclick="selectZip('02108')">
                            <div class="hot-zip-code">02108</div>
                            <div class="hot-zip-city">æ³¢å£«é¡¿</div>
                        </div>
                        <div class="hot-zip-btn" onclick="selectZip('98101')">
                            <div class="hot-zip-code">98101</div>
                            <div class="hot-zip-city">è¥¿é›…å›¾</div>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="goToStep2()">
                        <span>ä¸‹ä¸€æ­¥</span>
                        <span>â†’</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Step 2: é€‰æ‹©è¡Œä¸š -->
        <div class="step-content" id="content2">
            <div class="card">
                <h1 class="card-title">ğŸ¢ ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æ‚¨çš„è¡Œä¸š</h1>
                <p class="card-subtitle">é€‰æ‹©ä¸€ä¸ªæ‚¨æƒ³è¦ç‹¬å çš„è¡Œä¸šä½ç½®</p>
                
                <div class="industries-grid" id="industriesGrid">
                    <!-- åŠ¨æ€åŠ è½½ -->
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goToStep1()">
                        <span>â†</span>
                        <span>ä¸Šä¸€æ­¥</span>
                    </button>
                    <button class="btn btn-primary" id="nextBtn2" onclick="goToStep3()" disabled>
                        <span>ä¸‹ä¸€æ­¥</span>
                        <span>â†’</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Step 3: ç¡®è®¤è´­ä¹° -->
        <div class="step-content" id="content3">
            <div class="card">
                <h1 class="card-title">âœ¨ ç¬¬ä¸‰æ­¥ï¼šç¡®è®¤æ‚¨çš„é€‰æ‹©</h1>
                <p class="card-subtitle">æ£€æŸ¥æ‚¨çš„è®¢å•è¯¦æƒ…ï¼Œå‡†å¤‡æˆä¸ºç‹¬å®¶ä½ç½®æ‹¥æœ‰è€…</p>
                
                <div class="summary-card">
                    <div class="summary-item">
                        <span class="summary-label">ğŸ“ ä½ç½®</span>
                        <span class="summary-value" id="summaryLocation">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">ğŸ¢ è¡Œä¸š</span>
                        <span class="summary-value" id="summaryIndustry">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">ğŸ“Š NAICSä»£ç </span>
                        <span class="summary-value" id="summaryNaics">-</span>
                    </div>
                    <div class="total-price">
                        <span class="total-label">æ€»ä»·</span>
                        <span class="total-amount" id="totalAmount">0 ç§¯åˆ†</span>
                    </div>
                </div>
                
                <div style="background: #fef3c7; border-radius: 12px; padding: 15px; margin: 20px 0;">
                    <p style="color: #92400e; font-size: 14px;">
                        ğŸ’¡ <strong>ç‹¬å®¶ä¿è¯ï¼š</strong>åœ¨æ‚¨é€‰æ‹©çš„ZIP CODEåŒºåŸŸå†…ï¼Œæ­¤è¡Œä¸šä½ç½®å°†æ°¸ä¹…å±äºæ‚¨ï¼
                    </p>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goToStep2()">
                        <span>â†</span>
                        <span>è¿”å›ä¿®æ”¹</span>
                    </button>
                    <button class="btn btn-primary" onclick="confirmPurchase()" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                        <span>ğŸ‰</span>
                        <span>ç¡®è®¤è´­ä¹°</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- æˆåŠŸé¡µé¢ -->
        <div class="step-content" id="contentSuccess">
            <div class="card">
                <div class="success-animation">
                    <div class="success-icon">âœ“</div>
                    <h1 class="success-title">æ­å–œæ‚¨ï¼è´­ä¹°æˆåŠŸï¼</h1>
                    <p class="success-message">
                        æ‚¨å·²æˆåŠŸè·å¾— <strong id="successLocation">-</strong> åœ°åŒºçš„<br>
                        <strong id="successIndustry">-</strong> ç‹¬å®¶ç»è¥æƒï¼
                    </p>
                    
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="startNewPurchase()">
                            <span>ğŸ”„</span>
                            <span>è´­ä¹°å…¶ä»–ä½ç½®</span>
                        </button>
                        <button class="btn btn-primary" onclick="goToDashboard()">
                            <span>ğŸ“Š</span>
                            <span>æŸ¥çœ‹æˆ‘çš„ä½ç½®</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å·¥å…·æç¤º -->
    <div class="tooltip" id="tooltip"></div>
    
    <!-- å½©å¸¦å®¹å™¨ -->
    <div class="confetti" id="confetti"></div>
    
    <script>
        // å…¨å±€å˜é‡
        let currentStep = 1;
        let selectedZip = '';
        let selectedIndustry = null;
        let cityName = '';
        
        // è¡Œä¸šæ•°æ®
        const industries = [
            { code: '722511', name: 'å…¨æœåŠ¡é¤å…', icon: 'ğŸ½ï¸', price: 500, category: 'é¤é¥®' },
            { code: '722513', name: 'å¿«é¤åº—', icon: 'ğŸ”', price: 400, category: 'é¤é¥®' },
            { code: '722515', name: 'å’–å•¡åº—', icon: 'â˜•', price: 450, category: 'é¤é¥®' },
            { code: '541511', name: 'ITå’¨è¯¢', icon: 'ğŸ’»', price: 800, category: 'æœåŠ¡' },
            { code: '541110', name: 'å¾‹å¸ˆäº‹åŠ¡æ‰€', icon: 'âš–ï¸', price: 1000, category: 'æœåŠ¡' },
            { code: '621111', name: 'åŒ»ç”Ÿè¯Šæ‰€', icon: 'ğŸ¥', price: 1200, category: 'å¥åº·' },
            { code: '621210', name: 'ç‰™ç§‘è¯Šæ‰€', icon: 'ğŸ¦·', price: 1100, category: 'å¥åº·' },
            { code: '445110', name: 'è¶…å¸‚', icon: 'ğŸ›’', price: 600, category: 'é›¶å”®' },
            { code: '448140', name: 'æœè£…åº—', icon: 'ğŸ‘”', price: 500, category: 'é›¶å”®' },
            { code: '611310', name: 'å¤§å­¦', icon: 'ğŸ“', price: 1500, category: 'æ•™è‚²' },
            { code: '611691', name: 'åŸ¹è®­æœºæ„', icon: 'ğŸ“š', price: 700, category: 'æ•™è‚²' },
            { code: '713110', name: 'æ¸¸ä¹å›­', icon: 'ğŸ¢', price: 2000, category: 'å¨±ä¹' },
            { code: '711110', name: 'å‰§é™¢', icon: 'ğŸ­', price: 900, category: 'è‰ºæœ¯' },
            { code: '712110', name: 'åšç‰©é¦†', icon: 'ğŸ›ï¸', price: 1000, category: 'è‰ºæœ¯' },
            { code: '541712', name: 'ç ”å‘ä¸­å¿ƒ', icon: 'ğŸ”¬', price: 1800, category: 'ç§‘æŠ€' },
            { code: '518210', name: 'æ•°æ®ä¸­å¿ƒ', icon: 'ğŸ–¥ï¸', price: 1600, category: 'ç§‘æŠ€' }
        ];
        
        // ZIPåˆ°åŸå¸‚çš„æ˜ å°„
        const zipToCityMap = {
            '10001': 'çº½çº¦å¸‚',
            '94102': 'æ—§é‡‘å±±',
            '90001': 'æ´›æ‰çŸ¶',
            '60601': 'èŠåŠ å“¥',
            '02108': 'æ³¢å£«é¡¿',
            '98101': 'è¥¿é›…å›¾',
            '02476': 'é˜¿çµé¡¿',
            '33101': 'è¿ˆé˜¿å¯†',
            '30301': 'äºšç‰¹å…°å¤§',
            '77001': 'ä¼‘æ–¯é¡¿',
            '85001': 'å‡¤å‡°åŸ',
            '19101': 'è´¹åŸ'
        };
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è¾“å…¥æ¡†è‡ªåŠ¨æ ¼å¼åŒ–
            const zipInput = document.getElementById('zipInput');
            zipInput.addEventListener('input', function(e) {
                this.value = this.value.replace(/[^0-9]/g, '');
                if (this.value.length === 5) {
                    this.style.borderColor = '#10b981';
                }
            });
            
            // å›è½¦é”®å¤„ç†
            zipInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && this.value.length === 5) {
                    goToStep2();
                }
            });
            
            // åŠ è½½è¡Œä¸šåˆ—è¡¨
            loadIndustries();
        });
        
        // åŠ è½½è¡Œä¸šåˆ—è¡¨
        function loadIndustries() {
            const grid = document.getElementById('industriesGrid');
            grid.innerHTML = '';
            
            industries.forEach((industry, index) => {
                const div = document.createElement('div');
                div.className = 'industry-option';
                div.onclick = () => selectIndustry(industry, div);
                div.innerHTML = `
                    <div class="industry-icon">${industry.icon}</div>
                    <div class="industry-name">${industry.name}</div>
                    <div class="industry-price">${industry.price} ç§¯åˆ†</div>
                `;
                
                // åŠ¨ç”»å»¶è¿Ÿ
                div.style.animationDelay = `${index * 0.05}s`;
                grid.appendChild(div);
            });
        }
        
        // é€‰æ‹©ZIP
        function selectZip(zip) {
            document.getElementById('zipInput').value = zip;
            document.getElementById('zipInput').style.borderColor = '#10b981';
            // è‡ªåŠ¨è·³è½¬ä¸‹ä¸€æ­¥
            setTimeout(() => goToStep2(), 300);
        }
        
        // é€‰æ‹©è¡Œä¸š
        function selectIndustry(industry, element) {
            // æ¸…é™¤ä¹‹å‰çš„é€‰æ‹©
            document.querySelectorAll('.industry-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            // æ ‡è®°å½“å‰é€‰æ‹©
            element.classList.add('selected');
            selectedIndustry = industry;
            
            // å¯ç”¨ä¸‹ä¸€æ­¥æŒ‰é’®
            document.getElementById('nextBtn2').disabled = false;
            
            // éœ‡åŠ¨åé¦ˆï¼ˆç§»åŠ¨ç«¯ï¼‰
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }
        
        // æ­¥éª¤å¯¼èˆª
        function goToStep1() {
            showStep(1);
        }
        
        function goToStep2() {
            const zip = document.getElementById('zipInput').value;
            if (zip.length !== 5) {
                showTooltip('è¯·è¾“å…¥5ä½é‚®æ”¿ç¼–ç ', event);
                return;
            }
            
            selectedZip = zip;
            cityName = zipToCityMap[zip] || 'æœªçŸ¥åŸå¸‚';
            showStep(2);
        }
        
        function goToStep3() {
            if (!selectedIndustry) {
                showTooltip('è¯·é€‰æ‹©ä¸€ä¸ªè¡Œä¸š', event);
                return;
            }
            
            // æ›´æ–°æ‘˜è¦ä¿¡æ¯
            document.getElementById('summaryLocation').textContent = `${selectedZip} - ${cityName}`;
            document.getElementById('summaryIndustry').textContent = `${selectedIndustry.icon} ${selectedIndustry.name}`;
            document.getElementById('summaryNaics').textContent = selectedIndustry.code;
            document.getElementById('totalAmount').textContent = `${selectedIndustry.price} ç§¯åˆ†`;
            
            showStep(3);
        }
        
        // æ˜¾ç¤ºæ­¥éª¤
        function showStep(step) {
            currentStep = step;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = (step / 3) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
            for (let i = 1; i <= 3; i++) {
                const stepEl = document.getElementById(`step${i}`);
                const contentEl = document.getElementById(`content${i}`);
                
                if (i < step) {
                    stepEl.classList.add('completed');
                    stepEl.classList.remove('active');
                } else if (i === step) {
                    stepEl.classList.add('active');
                    stepEl.classList.remove('completed');
                } else {
                    stepEl.classList.remove('active', 'completed');
                }
                
                if (contentEl) {
                    contentEl.classList.toggle('active', i === step);
                }
            }
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ç¡®è®¤è´­ä¹°
        function confirmPurchase() {
            // æ˜¾ç¤ºæˆåŠŸé¡µé¢
            document.getElementById('successLocation').textContent = `${selectedZip} - ${cityName}`;
            document.getElementById('successIndustry').textContent = `${selectedIndustry.icon} ${selectedIndustry.name}`;
            
            // éšè—æ­¥éª¤æŒ‡ç¤ºå™¨
            document.querySelector('.steps-indicator').style.display = 'none';
            document.getElementById('progressBar').style.width = '100%';
            
            // æ˜¾ç¤ºæˆåŠŸé¡µé¢
            document.querySelectorAll('.step-content').forEach(el => {
                el.classList.remove('active');
            });
            document.getElementById('contentSuccess').classList.add('active');
            
            // æ’­æ”¾å½©å¸¦åŠ¨ç”»
            createConfetti();
            
            // éœ‡åŠ¨åé¦ˆ
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
        }
        
        // åˆ›å»ºå½©å¸¦æ•ˆæœ
        function createConfetti() {
            const container = document.getElementById('confetti');
            container.innerHTML = '';
            
            const colors = ['#667eea', '#764ba2', '#ec4899', '#10b981', '#f59e0b'];
            
            for (let i = 0; i < 50; i++) {
                const piece = document.createElement('div');
                piece.className = 'confetti-piece';
                piece.style.left = Math.random() * 100 + '%';
                piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                piece.style.animationDelay = Math.random() * 0.5 + 's';
                piece.style.animationDuration = (Math.random() * 2 + 2) + 's';
                container.appendChild(piece);
            }
            
            // 3ç§’åæ¸…é™¤
            setTimeout(() => {
                container.innerHTML = '';
            }, 4000);
        }
        
        // é‡æ–°è´­ä¹°
        function startNewPurchase() {
            location.reload();
        }
        
        // è·³è½¬åˆ°ä»ªè¡¨æ¿
        function goToDashboard() {
            window.location.href = '/dashboard.html';
        }
        
        // æ˜¾ç¤ºå·¥å…·æç¤º
        function showTooltip(message, event) {
            const tooltip = document.getElementById('tooltip');
            tooltip.textContent = message;
            tooltip.style.display = 'block';
            tooltip.style.left = event.pageX + 'px';
            tooltip.style.top = (event.pageY - 40) + 'px';
            
            setTimeout(() => {
                tooltip.style.display = 'none';
            }, 2000);
        }
    </script>
</body>
</html>
